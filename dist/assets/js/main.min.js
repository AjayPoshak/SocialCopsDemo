"use strict";function xmlListener(){var e=xmlReq.responseText,t=csvJSON(e);localStorage.setItem("data",t)}function transferError(){console.error("An error occurred while transferring the file.")}function transferProgress(){console.log("Progressing.....")}function csvJSON(e){for(var t=e.split("\n"),a=[],r=t[0].split(","),o=1;o<t.length;o++){for(var n={},l=t[o].split(","),s=0;s<r.length;s++)n[r[s]]=l[s];a.push(n)}return JSON.stringify(a)}function battingStatsController(e,t){function a(e){for(var t=-1,a=0;a<o.length;a++)if(o[a].year==e){t=a;break}return t}var r={};void 0===localStorage.getItem("data")&&""===localStorage.getItem("data")||(r=JSON.parse(localStorage.getItem("data"))),console.log("This is a demo");for(var o=[],n=0,l=0,s=0;s<r.length-1;s++){var i=a(r[s].date.slice(-4));if(i==-1){var g={};g.year=parseInt(r[s].date.slice(-4)),g.runs=parseInt(r[s].batting_score),o.push(g)}else t.ifNaN(r[s].batting_score)||(o[i].runs+=parseInt(r[s].batting_score));t.ifNaN(r[s].batting_score)||"lost"!=r[s].toss?t.ifNaN(r[s].batting_score)||"won"!=r[s].toss||(l+=parseInt(r[s].batting_score)):n+=parseInt(r[s].batting_score)}for(var c=[],d=[],b=0;b<o.length;b++)c.push(o[b].runs),d.push(o[b].year);var m=document.getElementById("runGraphByYear"),p=document.getElementById("runsByToss").getContext("2d"),u={labels:d,datasets:[{label:"My First dataset",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:c,spanGaps:!1}]},h={labels:["Runs Scored while toss was lost","Runs Scored while toss was won"],datasets:[{data:[n,l],backgroundColor:["#FF6384","#36A2EB"],hoverBackgroundColor:["#FF6384","#36A2EB"]}]};new Chart(m,{type:"line",data:u}),new Chart(p,{type:"pie",data:h})}function globalController(e,t){e.ifNaN=function(e){return parseInt(e)!==parseInt(e)},e.previousPage=function(e){"playedBigTeams"===e?t.path("/debut"):"battingStats"===e?t.path("/playedBigTeams"):"teamPerformance"===e?t.path("/battingStats"):"masterBlaster"===e?t.path("/teamPerformance"):console.log("Invalid Path Request...")},e.nextPage=function(e){"debut"===e?t.path("/playedBigTeams"):"playedBigTeams"===e?t.path("/battingStats"):"battingStats"===e?t.path("/teamPerformance"):"teamPerformance"===e?t.path("/masterBlaster"):console.log("Invalid Path Request")}}function playedBigTeamsController(e,t){function a(e){for(var t=-1,a=0;a<o.length;a++)if(o[a]==e){t=a;break}return t}console.log("Inside third Controller...");var r={};void 0===localStorage.getItem("data")&&""===localStorage.getItem("data")||(r=JSON.parse(localStorage.getItem("data")));for(var o=["Pakistan","New Zealand","Sri Lanka","England","Bangladesh","West Indies","South Africa","Australia"],n=new Array(o.length),l=new Array(o.length),s=0;s<r.length-1;s++){var i=a(r[s].opposition.substr(2));i!==-1&&(void 0!==n[i]||t.ifNaN(r[s].batting_score)?void 0===n[i]||t.ifNaN(r[s].batting_score)||(n[i]+=parseInt(r[s].batting_score)):n[i]=parseInt(r[s].batting_score),void 0!==l[i]||t.ifNaN(r[s].wickets)?void 0===l[i]||t.ifNaN(r[s].wickets)||(l[i]+=parseInt(r[s].wickets)):l[i]=parseInt(r[s].wickets))}var g=document.getElementById("runsAgainstTeams"),c=document.getElementById("wicketsAgainstTeams"),d={labels:o,datasets:[{label:"Runs scored by Sachin against Test playing Nations",backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 99, 160, 0.2)","rgba(255, 206, 186, 0.2)"],borderWidth:1,data:n}]},b={labels:o,datasets:[{label:"Wickets taken by Sachin against Test playing Nations",backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 99, 160, 0.2)","rgba(255, 206, 186, 0.2)"],borderWidth:1,data:l}]};new Chart(g,{type:"bar",data:d}),new Chart(c,{type:"bar",data:b})}function teamPerformanceController(e,t){var a={},r=0,o=0,n=0,l=0,s=0,i=0,g=0,c=0,d=0,b=0,m=0,p=0,u=0,h=0,f=0,w=0;void 0===localStorage.getItem("data")&&""!==localStorage.getItem("data")||(a=JSON.parse(localStorage.getItem("data")));for(var y in a)!t.ifNaN(a[y].batting_score)&&parseInt(a[y].batting_score)<50?(r++,"won"===a[y].match_result&&i++):!t.ifNaN(a[y].batting_score)&&parseInt(a[y].batting_score)>=50&&parseInt(a[y].batting_score)<=99?(o++,"won"===a[y].match_result&&l++):!t.ifNaN(a[y].batting_score)&&parseInt(a[y].batting_score)>100&&parseInt(a[y].batting_score)<200?(n++,"won"===a[y].match_result&&s++):!t.ifNaN(a[y].batting_score)&&parseInt(a[y].batting_score)>=200&&(g++,"won"===a[y].match_result&&c++),t.ifNaN(a[y].wickets)||1!==parseInt(a[y].wickets)||(d++,"won"===a[y].match_result&&u++),t.ifNaN(a[y].wickets)||2!==parseInt(a[y].wickets)||(b++,"won"===a[y].match_result&&h++),t.ifNaN(a[y].wickets)||3!==parseInt(a[y].wickets)||(m++,"won"===a[y].match_result&&f++),!t.ifNaN(a[y].wickets)&&parseInt(a[y].wickets)>3&&(p++,"won"===a[y].match_result&&w++);console.log(_typeof(a[19].wickets));var C=document.getElementById("winningPercent"),v=document.getElementById("winningPercentWicks"),S={labels:["Run < 50","Fifty","Hundred","Two Hundred"],datasets:[{label:"Team Winning Percent when Sachin make runs",data:[i/r*100,l/o*100,s/n*100,c/g*100],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255,99,132,1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]};console.log("one wicks "+d+" Two Wicks:: "+h/b*100),console.log("three wicks "+f/m*100+"MOre than three "+w/p*100);var I={labels:["1 wicket","Two Wickets","Three Wickets","More than 3 Wickets"],datasets:[{label:"Team Winning Percent when Sachin bowls",data:[u/d*100,h/b*100,f/m*100,w/p*100],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255,99,132,1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]};new Chart(C,{type:"horizontalBar",data:S}),new Chart(v,{type:"horizontalBar",data:I})}var xmlReq=new XMLHttpRequest;xmlReq.addEventListener("load",xmlListener),xmlReq.addEventListener("error",transferError),xmlReq.addEventListener("progress",transferProgress),xmlReq.open("GET","http://localhost/SocialCopsDemo/sachin.csv"),xmlReq.send(),angular.module("socialCopsDemo",["ngRoute"]),angular.module("socialCopsDemo").config(["$routeProvider",function(e){console.log("Inside the router..."),e.when("/",{templateUrl:"view/debut.html",controller:""}).when("/playedBigTeams",{templateUrl:"view/playedBigTeams.html",controller:"playedBigTeamsController"}).when("/battingStats",{templateUrl:"view/battingStats.html",controller:"battingStatsController"}).when("/teamPerformance",{templateUrl:"view/teamPerformance.html",controller:"teamPerformanceController"}).when("/masterBlaster",{templateUrl:"view/masterBlaster.html",controller:""}).otherwise({redirectTo:"/"})}]),angular.module("socialCopsDemo").controller("battingStatsController",battingStatsController),battingStatsController.$inject=["$scope","$rootScope"],angular.module("socialCopsDemo").controller("globalController",globalController),globalController.$inject=["$rootScope","$location"],angular.module("socialCopsDemo").controller("playedBigTeamsController",playedBigTeamsController),playedBigTeamsController.$inject=["$scope","$rootScope"];var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};angular.module("socialCopsDemo").controller("teamPerformanceController",teamPerformanceController),teamPerformanceController.$inject=["$scope","$rootScope"];